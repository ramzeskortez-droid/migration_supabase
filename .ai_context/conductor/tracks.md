# Tracks

## Текущий трек: UI модалки и авто-архивация по статусу

**Цель:** Улучшить UX архивации и автоматизировать её при завершении торгов.

**Решение:**
1.  **Logic:**
    - В `SupabaseService.ts` добавлен метод `archiveAllChatsForOrder`.
    - Этот метод вызывается внутри `formCP` (КП отправлено) и `refuseOrder` (Отказ/Аннулирован).
    - Теперь при переходе в эти статусы чаты поставщиков исчезают из "Активных" (так как `is_archived` становится `true`).
2.  **UI:**
    - В `ChatWindow.tsx` импортированы `ConfirmationModal` и `Toast`.
    - `alert` и `confirm` заменены на красивые компоненты.

**Статус:** Завершено.